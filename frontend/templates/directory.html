{% extends 'base.html' %}
{% block content %}
<section class="container">
  <h1>Package Directory</h1>
  <form method="get" aria-label="Search packages">
    <input type="text" name="q" value="{{ q }}" placeholder="Search packages..." aria-label="Search packages" />
    <button type="submit" class="btn">Search</button>
  </form>
  <div class="grid">
    {% for p in packages %}
      <div class="card">
        <h3>{{ p.name }}</h3>
        <p>Version: {{ p.version }}</p>
        {% if p.size %}
        <p>Size: {{ p.size }} bytes</p>
        {% endif %}
        {% if p.upload_time %}
        <p>Upload Time: {{ p.upload_time }}</p>
        {% endif %}
        <div class="card-actions">
          <a href="/download/{{ p.name }}/{{ p.version }}" class="btn">Download</a>
          <a href="/rate?name={{ p.name }}" class="btn">Rate</a>
        </div>
      </div>
    {% else %}
      <p>No packages found.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}


